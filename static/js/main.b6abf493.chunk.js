(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(56)},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),s=n.n(c),i=n(29),o=n(10),l=n(9),u=n(19),p=[],m=Object(o.combineReducers)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ADD_ALL_LISTS":return a.lists;case"ADD_LIST":return[].concat(Object(u.a)(e),[a.list]);case"UPDATE_LIST":var r=Object(u.a)(e),c=r.findIndex(function(e){return e.id===a.list.id});return r.splice(c,1,a.list),r;case"DELETE_LIST":return e.filter(function(e){return e.id!==a.id});default:return e}}}),f=n(11),d=(n(42),n(2)),h=n.n(d),v=n(3),E=n(13),b=n(14),k=n(16),y=n(15),w=n(17),x=(n(44),function(e){var t=e.userTask;return e.complete?r.a.createElement("li",{className:"ListItem completedTask"},r.a.createElement("i",{className:"material-icons checked"},"check"),r.a.createElement("p",null,t)):r.a.createElement("li",{className:"ListItem activeTask"},r.a.createElement("i",{className:"material-icons"},"crop_square"),r.a.createElement("p",null,t))}),g=function(){var e=Object(v.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3001","/api/v1/lists"));case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not get existing lists");case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3001","/api/v1/lists"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not add new list");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(v.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3001","/api/v1/lists/").concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch list with that id");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(v.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3001","/api/v1/lists/").concat(t),{method:"DELETE"});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Could not delete card");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(v.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3001","/api/v1/lists/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Could not update list");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=(n(45),function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(k.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},n.deleteList=Object(v.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(n.props.id);case 3:n.props.deleteList(n.props.id),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.setState({error:e.t0});case 9:case"end":return e.stop()}},e,null,[[0,6]])})),n}return Object(w.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.notes,a=n.filter(function(e){return!e.complete}).map(function(e){return r.a.createElement(x,Object.assign({key:e.id},e,{complete:!1}))}),c=n.filter(function(e){return e.complete}).map(function(e){return r.a.createElement(x,Object.assign({key:e.id},e,{complete:!0}))});return r.a.createElement("article",{className:"ListCard"},r.a.createElement("h3",null,t),r.a.createElement("ul",null,a),r.a.createElement("ul",null,c),r.a.createElement("div",{className:"btn-container"},r.a.createElement("i",{class:"material-icons btn",onClick:this.deleteList},"delete_forever"),r.a.createElement(f.b,{to:"/notes/".concat(this.props.id),key:this.props.id},r.a.createElement("i",{class:"material-icons btn "},"create"))))}}]),t}(a.Component)),C=Object(l.b)(null,function(e){return{deleteList:function(t){return e(function(e){return{type:"DELETE_LIST",payload:{id:e}}}(t))}}})(S),T=(n(51),function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(k.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).getExistingLists=Object(v.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,n.props.addAllLists(t);case 4:case"end":return e.stop()}},e)})),n}return Object(w.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.getExistingLists()}},{key:"render",value:function(){var e=this.props.lists.map(function(e){return r.a.createElement(C,Object.assign({},e,{key:e.id}))});return r.a.createElement("output",{className:"ListArea"},e)}}]),t}(a.Component)),A=Object(l.b)(function(e){return{lists:e.lists}},function(e){return{addAllLists:function(t){return e(function(e){return{type:"ADD_ALL_LISTS",payload:{lists:e}}}(t))}}})(T),I=(n(52),function(){return r.a.createElement("section",{className:"HomeScreen"},r.a.createElement("header",null,r.a.createElement("h1",null,"Trapper",r.a.createElement("span",null,"KEEPER")),r.a.createElement(f.b,{to:"/new-note"},r.a.createElement("button",null,"Add New List"))),r.a.createElement(A,null))}),D=n(32),_=(n(53),function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(k.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={isActive:!1,main:"",title:"",notes:[],error:""},n.getExistingInfo=Object(v.a)(h.a.mark(function e(){var t,a,r,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.props.id)){e.next=13;break}return e.prev=2,e.next=5,j(t);case 5:a=e.sent,r=a.title,c=a.notes,n.setState({title:r,notes:c,error:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n.setState({error:e.t0.message});case 13:case"end":return e.stop()}},e,null,[[2,10]])})),n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(D.a)({},a,r))},n.handleKeyPress=function(e){"Enter"===e.key&&n.saveNote()},n.saveNote=function(){var e=n.state,t=e.main,a=e.notes;if(t){var r={id:Date.now(),userTask:t,complete:!1};n.setState({notes:[].concat(Object(u.a)(a),[r]),main:"",isActive:!1})}},n.handleSave=Object(v.a)(h.a.mark(function e(){var t,a,r,c,s,i,o,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.lists,r=t.id,c=n.state,s=c.title,i=c.notes,!a.find(function(e){return e.id===parseInt(r)})){e.next=9;break}return o={id:parseInt(r),title:s,notes:i},e.next=7,n.updateList(o);case 7:e.next=12;break;case 9:return l={title:s||"Untitled List",notes:i},e.next=12,n.createNewList(l);case 12:n.props.history.push("/");case 13:case"end":return e.stop()}},e)})),n.createNewList=function(){var e=Object(v.a)(h.a.mark(function e(t){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t);case 3:a=e.sent,n.props.addList(a),n.setState({title:"",main:"",notes:[],error:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({error:e.t0.message});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),n.updateList=function(){var e=Object(v.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t);case 3:n.props.updateList(t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.setState({error:e.t0});case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),n.deleteNote=function(e){return function(){var t=n.state.notes.filter(function(t){return t.id!==e});n.setState({notes:t})}},n.modifyNote=function(e,t){var a=n.state.notes,r=a.find(function(e){return e.id===t});return function(t){"toggle"===e?r.complete=!r.complete:"update"===e&&(r.userTask=t.target.value),n.setState({notes:a})}},n.returnHome=function(e){e.target.classList.contains("modal")&&n.props.history.push("/")},n}return Object(w.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.getExistingInfo()}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.isActive,c=t.main,s=t.notes,i=s.filter(function(e){return!e.complete}).map(function(t){return r.a.createElement("div",{key:t.id,className:"existing-note"},r.a.createElement("i",{className:"material-icons toggle-icon",onClick:e.modifyNote("toggle",t.id)},"crop_square"),r.a.createElement("input",{className:"existing-note-input",value:t.userTask,onChange:e.modifyNote("update",t.id)}),r.a.createElement("i",{className:"material-icons delete-icon",onClick:e.deleteNote(t.id)},"close"))}),o=s.filter(function(e){return e.complete}).map(function(t){return r.a.createElement("div",{key:t.id,className:"existing-note"},r.a.createElement("i",{className:"material-icons toggle-icon",onClick:e.modifyNote("toggle",t.id)},"check"),r.a.createElement("input",{className:"existing-note-input complete",value:t.userTask,onChange:e.modifyNote("update",t.id)}),r.a.createElement("i",{className:"material-icons delete-icon",onClick:e.deleteNote(t.id)},"close"))});return r.a.createElement("div",{className:"modal",onClick:this.returnHome},r.a.createElement("form",{className:"ListInput"},r.a.createElement("input",{type:"text",name:"title",value:n,autoComplete:"off",placeholder:"Title",className:"input-title",onChange:this.handleChange}),i,o.length>0&&r.a.createElement("div",{className:"complete-notes"},o),r.a.createElement("div",{className:"list-items ".concat(a&&"active")},r.a.createElement("i",{className:"material-icons"},"crop_square"),r.a.createElement("input",{className:"input-list-item",type:"text",name:"main",value:c,autoComplete:"off",placeholder:"New Item",onFocus:function(){return e.setState({isActive:!0})},onBlur:this.saveNote,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),c.length>0?r.a.createElement("i",{className:"material-icons",onClick:function(){return e.setState({main:""})}},"close"):r.a.createElement("i",{disabled:!0,className:"material-icons hidden"},"close")),r.a.createElement("div",{className:"btn-container"},r.a.createElement("div",{role:"button",className:"btn",onClick:this.handleSave},"Save"))))}}]),t}(a.Component)),P=Object(l.b)(function(e){return{lists:e.lists}},function(e){return{addList:function(t){return e(function(e){return{type:"ADD_LIST",payload:{list:e}}}(t))},updateList:function(t){return e(function(e){return{type:"UPDATE_LIST",payload:{list:e}}}(t))}}})(_),J=n(12),K=function(){return r.a.createElement("main",{className:"App"},r.a.createElement(J.a,{path:"/",component:I}),r.a.createElement(J.a,{path:"/new-note",render:function(e){var t=e.history;return r.a.createElement(P,{history:t})}}),r.a.createElement(J.a,{path:"/notes/:id",render:function(e){var t=e.match,n=e.history;return r.a.createElement(P,{history:n,id:t.params.id})}}))},U=(n(54),n(55),Object(o.createStore)(m,Object(i.composeWithDevTools)())),q=r.a.createElement(l.a,{store:U},r.a.createElement(f.a,null,r.a.createElement(K,null)));s.a.render(q,document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.b6abf493.chunk.js.map